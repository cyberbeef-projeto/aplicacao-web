<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="css/acesso.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="icon" href="assets/icon/chip.png">

  <title>Segurança de Acesso - CyberBeef</title>
</head>

<body>
  <header class="navbar">
    <button id="but_atualizar_bl" class="clicavel bxr bxs-menu-select clicado"
      onclick="atualizarBarraLateral()"></button>

    <span id="sel_componentes" name="op_setor" class="sel_dash">
      <p id="title">Controle de Acesso e Segurança</p>
      <button id="dash_todas_maquinas" style="display: none;" 
        data-comp="geral"
        data-kpi1="Total de tentativas logins (últimos 7 dias)"
        data-kpi2="Taxa de Sucesso nos Logins (%)"
        data-kpi3="Contas Administrativas Ativas"
        data-kpi4="Contas Inativas (30 dias)">GERAL</button>
    </span>

    <nav id="buts_superiores">
      <a class="clicavel clicado">Exportar <i class='bxr bx-arrow-down-stroke-circle'></i></a>
      <a class="clicavel clicado">Gerar relatório</a>
    </nav>
  </header>

  <div class="barra_lateral sombreado ativa">
    <div id="logo"></div>
    <hr>

    <div id="usuario">
      <i class='bxr bxs-user' style='color:#fffafa'></i>
      <a id="b_usuario" class="texto_perfil">Administrador</a>
    </div>

    <hr>

    <div id="home" class="ops_home">
      <ul></ul>
      <li><a href="index.html">Controle e Acesso</a></li>
      <li><a href="empresa.html">Empresas</a></li>
      <li><a href="dados.html?tipoDados=alerta&titulo=Alertas">Downtime</a></li>
      <li><a href="dados.html?tipoDados=setor&titulo=Setores">Chamados Jira</a></li>

      <span onclick="limparSessao()" class="clicavel clicado">
        <i class='bxr bx-arrow-out-left-square-half'></i>
        <p>ENCERRAR SESSÃO</p>
      </span>
    </div>
  </div>

  <div id="elementos" class="bl_ativa">
    <div class="cards">

      <div id="barra_pesquisa">
        <input type="text" placeholder="Pesquisar por usuários ou dispositivos..." id="pesquisa" class="interativo">
        <div id="nomes_dash" class="accordion"></div>
      </div>

      <span class="abas_kpis">
        <button data-aba="1" class="kpi interativo ativa">
          <b id="kpi1" class="dado_card"></b>
          <p id="kpi1_desc">Total de Tentativas de Login (últimos 7 dias)</p>
        </button>

        <button data-aba="2" class="kpi interativo">
          <b id="kpi2" class="dado_card"></b>
          <p id="kpi2_desc">Taxa de Sucesso nos Logins (%)</p>
        </button>

        <button data-aba="3" class="kpi interativo">
          <b id="kpi3" class="dado_card"></b>
          <p id="kpi3_desc">Contas Administrativas Ativas</p>
        </button>

        <button data-aba="4" class="kpi interativo">
          <b id="kpi4" class="dado_card"></b>
          <p id="kpi4_desc">Contas Inativas (7 dias)</p>
        </button>
      </span>

      <div id="aba_conteudo" class="interativo">
        <p id="titulo-conteudo">Tentativas de Login (Sucesso vs Erro) por Dia</p>

        <div class="grafico sombreado interativo" style="width: 100%; height: 350px;">
          <canvas id="graficoAba"></canvas>
        </div>
      </div>

    </div>

    <div id="graficos">

      <!-- GRÁFICO PRINCIPAL -->
      <span class="grafico sombreado interativo">
        <canvas id="grafico1"></canvas>
      </span>

      <!-- HEATMAP GITHUB-LIKE -->
      <div class="grafico sombreado interativo" style="width:100%; padding: 20px;">


          <canvas id="heatmapCanvas" style="width:100%; height:180px;"></canvas>
        </div>

        <div style="display:flex; justify-content:center; align-items:center; gap:20px; margin-top:15px;">
            <button id="prevMonth" style="cursor:pointer; padding:8px 14px; border:none; border-radius:6px; background:#4B6CF0; color:#fff;">← Mês Anterior</button>
            <span id="currentMonthLabel" style="color:white; font-size:18px; font-weight:500;"></span>
            <button id="nextMonth" style="cursor:pointer; padding:8px 14px; border:none; border-radius:6px; background:#4B6CF0; color:#fff;">Próximo Mês →</button>
        </div>

      </div>

    </div>

</body>

<script src="js/acesso.js"></script>

</html>
