<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="css/acesso.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="icon" href="assets/icon/chip.png">
  
  <title>Segurança de Acesso - CyberBeef</title>
</head>

<body>
  <header class="navbar">
    <button id="but_atualizar_bl" class="clicavel bxr bxs-menu-select clicado"
      onclick="atualizarBarraLateral()"></button>

    <span id="sel_componentes" name="op_setor" class="sel_dash">
      <p id="title">Controle de Acesso e Segurança</p>

      <button id="dash_todas_maquinas" style="display: none;" class="" data-comp="geral"
        data-kpi1="Total de tentativas logins (últimos 30 dias)" data-kpi2="Taxa de Sucesso nos Logins (%)" data-kpi3="Contas Administrativas Ativas"
        data-kpi4="Taxa de Fracasso nos Logins (%)">GERAL</button>
    </span>

    <nav id="buts_superiores">
      <a class="clicavel clicado">Exportar <i class='bxr bx-arrow-down-stroke-circle' style="padding: 0.3rem;"></i></a>
      <a class="clicavel clicado">Gerar relatório</a>
    </nav>
  </header>

  <div class="barra_lateral sombreado ativa">
    <div id="logo"></div>
    <hr>

    <div id="usuario">
      <i class='bxr bxs-user' style='color:#fffafa'></i>
      <a id="b_usuario" class="texto_perfil" style="max-width: 100%; overflow: hidden; text-overflow: ellipsis;">
        Administrador
      </a>
    </div>

    <hr>

    <div id="home" class="ops_home">
      <ul></ul>
      <li class="clicado"><a href="index.html">Controle e Acesso</a></li>
      <li class="clicado"><a>Cadastro Empresa</a></li>
      <li class="clicado"><a href="dados.html?tipoDados=alerta&titulo=Alertas">Downtime</a></li>
      <li class="clicado"><a href="dados.html?tipoDados=setor&titulo=Setores">Chamados Jira</a></li>

      <span onclick="limparSessao()"
        style="display: inline-flex; align-items: center; color: #fffafa; font-size: large; gap: 1%;"
        class="clicavel clicado" title="Clique para encerrar sua sessão">
        <i class='bxr bx-arrow-out-left-square-half' style="color: #fffafa;"></i>
        <p>ENCERRAR SESSÃO</p>
      </span>
    </div>
  </div>

  <div id="elementos" class="bl_ativa">
    <div class="cards">

      <div id="barra_pesquisa">
        <input type="text" placeholder="Pesquisar por usuários ou dispositivos..." id="pesquisa" class="interativo">
        <div id="nomes_dash" class="accordion"></div>
      </div>

      <span class="abas_kpis">
        <button data-aba="1" class="kpi interativo ativa">
          <b id="kpi1" class="dado_card">KPI1</b>
          <p id="kpi1_desc">Total de Tentativas de Login (últimos 30 dias)</p>
          <i id="kpi1_result" class="text_longo">[...]</i>
        </button>

        <button data-aba="2" class="kpi interativo">
          <b id="kpi2" class="dado_card">KPI2</b>
          <p id="kpi2_desc">Taxa de Sucesso nos Logins</p>
          <i id="kpi2_result" class="text_longo">[...]</i>
        </button>

        <button data-aba="3" class="kpi interativo">
          <b id="kpi3" class="dado_card">KPI3</b>
          <p id="kpi3_desc">Contas Administrativas Ativas</p>
          <i id="kpi3_result" class="text_longo">[...]</i>
        </button>

        <button data-aba="4" class="kpi interativo">
          <b id="kpi4" class="dado_card">KPI4</b>
          <p id="kpi4_desc" class="text_longo">Contas Inativas (30 dias)</p>
          <i id="kpi4_result" class="text_longo">[...]</i>
        </button>
      </span>

      <div id="aba_conteudo" class="interativo">
        <p id="titulo-conteudo">Tentativas de Login (Sucesso vs Erro) por Dia</p>
        <div id="cardsContainer"></div>
      </div>

    </div>

    <div id="graficos">
      <span class="grafico sombreado interativo"><canvas id="grafico1"></canvas></span>
      <span class="grafico sombreado interativo"><canvas id="grafico2"></canvas></span>
    </div>
  </div>

</body>
<script src="js/acesso.js"></script>

<script>

function atualizarBarraLateral() {
  const barraLateral = document.querySelector('.barra_lateral');
  const elementos = document.getElementById('elementos');
  const butAtual = document.getElementById('but_atualizar_bl');
  if (barraLateral) barraLateral.classList.toggle('ativa');
  if (elementos) elementos.classList.toggle('bl_ativa');
  if (butAtual) {
    butAtual.classList.toggle('bxs-menu-wide');
    butAtual.classList.toggle('bxs-menu-select');
  }
}


</script>

</html>
