<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - CyberBeef</title>
  <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="./painelempresa.css">
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

</head>

<body>
  <nav class="navbar">
    <button class="menu-btn" onclick="toggleSidebar()">☰</button>
    <h1>Painel de Empresas Cadastradas</h1>
  </nav>

  <aside class="barra_lateral" id="sidebar">
    <div class="logo"></div>

    <div class="usuario" id="usuario">
        <i class='bxs-user' style='color:#fffafa'></i>
      <span>User</span>
    </div>

    <ul class="nav-menu">
      <li><a href="#">Home</a></li>
      <li><a href="#">Painéis</a></li>
      <li><a href="#">Máquinas</a></li>
      <li><a href="#">Alertas</a></li>
      <li><a href="#">Setores</a></li>
      <li><a href="#">Usuários</a></li>
      <span
        style="display: inline-flex; align-items: center; color: #fffafa; font-size: large; gap: 1%; cursor: pointer;">
        <i class='bx bx-arrow-out-left-square-half' style="color: #fffafa;"></i>
        <p>SAIR</p>
      </span>
    </ul>


  </aside>

  <main class="container-principal" id="mainContent">
    <div class="abas_kpi">

      <div class="card-kpi">
        <h3>Total de Empresas Cadastradas</h3>
        <div class="valor">57</div>
        <div class="subtitulo">Desde da implementação da solução</div>
      </div>

      <div class="card-kpi">
        <h3>Taxa de Cancelamento</h3>
        <div class="valor">5%</div>
        <div class="subtitulo">No último semestre</div>
      </div>

      <div class="card-kpi">
        <h3>Novos Clientes</h3>
        <div class="valor">72</div>
        <div class="subtitulo">No último semestre</div>
      </div>

      <div class="card-kpi">
        <h3>Crescimento Contratual</h3>
        <div class="valor">21%</div>
        <div class="subtitulo">No último semestre</div>
      </div>

    </div>

    <div class="container-graficos">

      <div class="card-grafico">
        <h2>Cidades</h2>
        <div class="area-grafico">
          <div class="grafico-vazio">Gráfico de Barras - Cidades</div>
        </div>
      </div>

      <div class="card-grafico secao-mapa">
        <h2>Distribuição</h2>
        <div class="area-grafico">
          <div id="geoChart"></div>
        </div>

        <div class="map-stats">
          <div class="map-stat">
            <h3>51</h3>
            <p>Cidades</p>
          </div>

          <div class="map-stat">
            <h3>28</h3>
            <p>Estados</p>
          </div>
        </div>

      </div>

    </div>
  </main>

 <script>
  function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('mainContent');

    sidebar.classList.toggle('active');
    mainContent.classList.toggle('sidebar-active');
  }

  google.charts.load('current', {
    packages: ['geochart'],
    mapsApiKey: 'AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY'
  });
  google.charts.setOnLoadCallback(drawGeoChart);

  function drawGeoChart() {
    var data = google.visualization.arrayToDataTable([
      ['Estado', 'Clientes'],
      ['BR-SP', 12],
      ['BR-RJ', 8],
      ['BR-MG', 7],
      ['BR-RS', 6],
      ['BR-PR', 5],
      ['BR-BA', 4],
      ['BR-SC', 3],
      ['BR-PE', 3],
      ['BR-CE', 3],
      ['BR-GO', 2],
      ['BR-PA', 2],
      ['BR-ES', 1]
    
    ]);

    var options = {
      region: 'BR',
      displayMode: 'regions',
      resolution: 'provinces',
      backgroundColor: 'transparent',
      datalessRegionColor: '#fff',

      colorAxis: {
        colors: ['#8AB4FF', '#1A3DBE']
      },

      tooltip: {
        textStyle: {
          color: '#333',
          fontSize: 12
        }
      },
      legend: 'none'
    };

    var chart = new google.visualization.GeoChart(document.getElementById('geoChart'));
    chart.draw(data, options);
  }

  window.addEventListener('resize', function () {
    if (typeof drawGeoChart === 'function') {
      drawGeoChart();
    }
  });
</script>

</body>

</html>